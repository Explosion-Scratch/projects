<textarea onkeyup='go()' id='input'></textarea>
<div id='output'></div>
<script>
	function go() {
		var c1 = document.getElementById('input').value;
		var d1 = document.getElementById('output');
		$str = c1;

		// The array of regex patterns to look for
		$format_search =  [
				/\[b\](.*?)\[\/b\]/ig,
				/\[i\](.*?)\[\/i\]/ig,
				/\[u\](.*?)\[\/u\]/ig
		]; // NOTE: No comma after the last entry

		// The matching array of strings to replace matches with
		$format_replace = [
				'<strong>$1</strong>',
				'<em>$1</em>',
				'<span style="text-decoration: underline;">$1</span>'
		];

		// Perform the actual conversion
		for (var i =0;i<$format_search.length;i++) {
			$str = $str.replace($format_search[i], $format_replace[i]);
		}
		d1.innerHTML = $str; }
</script>